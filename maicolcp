import json

# Capturar los datos de un camper
def capturar_datos_camper(rutas_ocupadas):
    print("EÍ™rÍ™eÍ™sÍ™ Í™UÍ™nÍ™ Í™CÍ™aÍ™mÍ™pÍ™eÍ™rÍ™ Í™IÍ™nÍ™gÍ™rÍ™eÍ™sÍ™aÍ™ Í™TÍ™uÍ™sÍ™ Í™DÍ™aÍ™tÍ™oÍ™sÍ™:Í™")
    print("---ğ“œğ“®ğ“·ğ“¾ ğ“’ğ“ªğ“¶ğ“¹ğ“®ğ“»---")
    NumId = int(input("Ingrese su nÃºmero de identificaciÃ³n sin puntos ni comas: "))
    Nombre = input("Ingrese sus nombres: ")
    Apellidos = input("Ingrese sus apellidos: ")
    Direccion = input("Ingrese su direcciÃ³n: ")
    Acudiente = input("Ingrese el nombre de su acudiente: ")
    Celular = input("Ingrese su nÃºmero de celular: ")
    Fijo = input("Ingrese su nÃºmero de telÃ©fono fijo: ")
    Riesgo = input("Ingrese el nivel de riesgo: ")
    Ruta = input("Ingrese la ruta de entrenamiento a la cual aspira (NodeJS, Java, NetCore): ").lower()
    
    # Validar que la ruta ingresada sea una de las opciones vÃ¡lidas
    while Ruta not in ["nodejs", "java", "netcore"]:
        print("Ruta de entrenamiento no vÃ¡lida. Por favor ingrese una de las opciones disponibles.")
        Ruta = input("Ingrese la ruta de entrenamiento (NodeJS, Java, NetCore): ").lower()
    
    # Verificar si la ruta tiene cupo disponible
    if Ruta in rutas_ocupadas and rutas_ocupadas[Ruta] >= 33:
        print("Lo siento, la ruta", Ruta, "ya ha alcanzado el mÃ¡ximo de 33 campers inscritos.")
        return None
    
    # Incrementar el contador de la ruta
    if Ruta in rutas_ocupadas:
        rutas_ocupadas[Ruta] += 1
    else:
        rutas_ocupadas[Ruta] = 1
    
    return {
        'NumId': NumId,
        'Nombre': Nombre,
        'Apellidos': Apellidos,
        'Direccion': Direccion,
        'Acudiente': Acudiente,
        'Celular': Celular,
        'Fijo': Fijo,
        'Riesgo': Riesgo,
        'Ruta': Ruta
    }

# Modificar los datos de un camper
def modificar_camper(camper):
    print("Modificar datos del camper:")
    print("1. Modificar nÃºmero de identificaciÃ³n")
    print("2. Modificar nombres")
    print("3. Modificar apellidos")
    print("4. Modificar direcciÃ³n")
    print("5. Modificar acudiente")
    print("6. Modificar nÃºmero de celular")
    print("7. Modificar nÃºmero de telÃ©fono fijo")
    print("8. Modificar nivel de riesgo")
    print("9. Modificar ruta de entrenamiento")
    # Agrega mÃ¡s opciones para modificar otros campos segÃºn sea necesario
    
    opcion = int(input("Ingrese el nÃºmero de la opciÃ³n que desea modificar: "))
    
    if opcion == 1:
        camper['NumId'] = int(input("Ingrese el nuevo nÃºmero de identificaciÃ³n: "))
    elif opcion == 2:
        camper['Nombre'] = input("Ingrese los nuevos nombres: ")
    elif opcion == 3:
        camper['Apellidos'] = input("Ingrese los nuevos apellidos: ")
    elif opcion == 4:
        camper['Direccion'] = input("Ingrese la nueva direcciÃ³n: ")
    elif opcion == 5:
        camper['Acudiente'] = input("Ingrese el nuevo acudiente: ")
    elif opcion == 6:
        camper['Celular'] = input("Ingrese el nuevo nÃºmero de celular: ")
    elif opcion == 7:
        camper['Fijo'] = input("Ingrese el nuevo nÃºmero de telÃ©fono fijo: ")
    elif opcion == 8:
        camper['Riesgo'] = input("Ingrese el nuevo nivel de riesgo: ")
    elif opcion == 9:
        nueva_ruta = input("Ingrese la nueva ruta de entrenamiento (NodeJS, Java, NetCore): ").capitalize()
        while nueva_ruta not in ["Nodejs", "Java", "NetCore"]:
            print("Ruta de entrenamiento no vÃ¡lida. Por favor ingrese una de las opciones disponibles.")
            nueva_ruta = input("Ingrese la ruta de entrenamiento (NodeJS, Java, NetCore): ").capitalize()
        camper['Ruta'] = nueva_ruta
    else:
        print("OpciÃ³n no vÃ¡lida")

# Buscar la informaciÃ³n de un camper en el diccionario
def buscar_camper(diccionario, num_id):
    if num_id in diccionario:
        return diccionario[num_id]
    else:
        return "Camper no encontrado."

# Evaluar la nota final de un camper
def evaluar_camper(campers):
    num_id = int(input("Ingrese el nÃºmero de identificaciÃ³n del camper que desea evaluar: "))
    if num_id in campers:
        nota_teorica = float(input("Ingrese la nota de la prueba teÃ³rica: "))
        nota_practica = float(input("Ingrese la nota de la prueba prÃ¡ctica: "))
        nota_quices_trabajos = float(input("Ingrese la nota de los quices/trabajos: "))
        
        nota_final = (nota_teorica * 0.3) + (nota_practica * 0.6) + (nota_quices_trabajos * 0.1)
        
        if nota_final >= 60:
            campers[num_id]['Estado'] = "Aprobado"
            print("Â¡Felicidades! El camper ha aprobado el mÃ³dulo con una nota final de", nota_final)
        else:
            print("El camper no ha aprobado el mÃ³dulo. Su nota final es", nota_final)
    else:
        print("Camper no encontrado.")

# MenÃº para el Trainer
def menu_trainer(campers):
    while True:
        print("\n---â„³â„¯ğ“ƒğ“Š ğ’¯ğ“‡ğ’¶ğ’¾ğ“ƒâ„¯ğ“‡---")
        print("Eres Un Trainer")
        print("1. Ver datos de un camper")
        print("2. Evaluar un camper")
        print("3. Volver al menÃº principal")
        
        opcion = int(input("Ingrese el nÃºmero de la opciÃ³n que desea realizar: "))
        
        if opcion == 1:
            num_id = int(input("Ingrese el nÃºmero de identificaciÃ³n del camper que desea ver: "))
            if num_id in campers:
                print("Datos del camper:")
                print(buscar_camper(campers, num_id))
            else:
                print("Camper no encontrado.")
        elif opcion == 2:
            evaluar_camper(campers)
        elif opcion == 3:
            break
        else:
            print("OpciÃ³n no vÃ¡lida. Por favor ingrese una opciÃ³n vÃ¡lida.")

# MenÃº para el Coordinador
def menu_coordinador(campers):
    while True:
        print("\n-Í™-Í™-Í™ Í™MÍ™eÍ™nÍ™ÃºÍ™ Í™CÍ™oÍ™oÍ™rÍ™dÍ™iÍ™nÍ™aÍ™dÍ™oÍ™rÍ™ Í™-Í™-Í™-Í™")
        print("Eres Un Cordinador")
        print("1. Ver datos de un camper")
        print("2. Evaluar un camper")
        print("3. Modificar datos de un camper")
        print("4. Salir")
        
        opcion = int(input("Ingrese el nÃºmero de la opciÃ³n que desea realizar: "))
        
        if opcion == 1:
            num_id = int(input("Ingrese el nÃºmero de identificaciÃ³n del camper que desea ver: "))
            if num_id in campers:
                print("Datos del camper:")
                print(buscar_camper(campers, num_id))
            else:
                print("Camper no encontrado.")
        elif opcion == 2:
            evaluar_camper(campers)
        elif opcion == 3:
            num_id = int(input("Ingrese el nÃºmero de identificaciÃ³n del camper que desea modificar: "))
            if num_id in campers:
                modificar_camper(campers[num_id])
                print("Datos del camper modificados correctamente.")
            else:
                print("Camper no encontrado.")
        elif opcion == 4:
            break
        else:
            print("OpciÃ³n no vÃ¡lida. Por favor ingrese una opciÃ³n vÃ¡lida.")

# FunciÃ³n para el menÃº principal segÃºn el rol seleccionado
def menu_principal():
    campers = cargar_campers_json()
    rutas_ocupadas = {}

    while True:
        print("\n--- Má´‡É´Ãº PÊ€ÉªÉ´á´„Éªá´˜á´€ÊŸ ---")
        print("ğ’ğğ¥ğğœğœğ¢ğ¨ğ§ğ ğ¬ğ® ğ«ğ¨ğ¥:")
        print("1. ğ¶ğ‘ğ‘šğ‘ğ‘ ğ‘ğ‘ğ‘ ğ‘’ğ‘Ÿ")
        print("2. TÊ€á´€ÉªÉ´á´‡Ê€")
        print("3. Cá´á´Ê€á´…ÉªÉ´á´€á´…á´Ê€")
        print("4. Sá´€ÊŸÉªÊ€")
        
        try:
            rol = int(input("IÉ´É¢Ê€á´‡sá´‡ á´‡ÊŸ É´Ãºá´á´‡Ê€á´ á´„á´Ê€Ê€á´‡sá´˜á´É´á´…Éªá´‡É´á´›á´‡ á´€ sá´œ Ê€á´ÊŸ: "))
        except ValueError:
            print("Error: Ingrese un nÃºmero vÃ¡lido.")
            continue
        
        if rol == 1:
            camper = capturar_datos_camper(rutas_ocupadas)
            if camper:
                campers[camper['NumId']] = camper
                print("Datos del camper ingresados correctamente.")
                guardar_campers_json(campers)
        elif rol == 2:
            menu_trainer(campers)
        elif rol == 3:
            menu_coordinador(campers)
        elif rol == 4:
            print("Usted Ha Salido Exisotamente :D")
            guardar_campers_json(campers)
            break
        else:
            print("Rol no vÃ¡lido. Por favor ingrese un rol vÃ¡lido.")

# FunciÃ³n para guardar los campers en un archivo JSON
def guardar_campers_json(campers):
    with open('campers.json', 'w') as archivo_json:
        json.dump(campers, archivo_json)

# FunciÃ³n para cargar campers desde un archivo JSON
def cargar_campers_json():
    try:
        with open('campers.json', 'r') as archivo_json:
            return json.load(archivo_json)
    except FileNotFoundError:
        return {}

# Ejecutar el menÃº principal
menu_principal()
